# Terraform Module: General - Naming Formatter

This Terraform module provides a flexible and reusable way to construct consistent Azure resource names across your environment. 
It supports both full-length names and short names, optional environment suffixes, and an optional random string for uniqueness.

The naming convention helps enforce standardization across subscriptions, management groups, and resources.

---

## Features

- Generates full-length names with configurable sections. 
- Generates short names, automatically truncated to a maximum length. 
- Supports optional environment codes (such as dev, prd, plz). 
- Supports optional random suffix for uniqueness (storage accounts, key vaults etc). 
- Validates section lengths and characters. 
- Configurable delimiter for name sections (defaults to `-`). 

---

## Usage

```hcl
module "naming" {
  source = "../../modules/global-naming"
  org_prefix       = "abc"
  project          = "platform"
  category1        = "con"
  category2        = "hub"
  environment      = "plz"
  delimiter        = "-"
  short_max_length = 24
  append_random    = true
  random_length    = 6
}
```

---

## Notes

- All sections are automatically converted to lowercase. 
- Only alphanumeric characters are allowed, all other characters are stripped out. 
- The short name truncation respects the random suffix if append_random is enabled. 

---

<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->


<!-- markdownlint-disable MD033 -->
## Requirements

No requirements.

## Resources

| Name | Type |
|------|------|
| [random_string.short_suffix](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string) | resource |

<!-- markdownlint-disable MD013 -->
## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_sections"></a> [sections](#input\_sections) | Ordered list of name sections: org, project, category1, category2. | `list(string)` | n/a | yes |
| <a name="input_allowed_environment_codes"></a> [allowed\_environment\_codes](#input\_allowed\_environment\_codes) | Allowed environment codes. | `list(string)` | <pre>[<br/>  "dev",<br/>  "tst",<br/>  "stg",<br/>  "prd",<br/>  "alz",<br/>  "plz"<br/>]</pre> | no |
| <a name="input_append_random"></a> [append\_random](#input\_append\_random) | Append a random string to short names if truncated. | `bool` | `true` | no |
| <a name="input_delimiter"></a> [delimiter](#input\_delimiter) | Delimiter used for full names (default '-'). | `string` | `"-"` | no |
| <a name="input_environment"></a> [environment](#input\_environment) | Optional environment code, validate against existing allowed list. | `string` | `null` | no |
| <a name="input_random_length"></a> [random\_length](#input\_random\_length) | Length of optional random suffix for short names. | `number` | `6` | no |
| <a name="input_short_max_length"></a> [short\_max\_length](#input\_short\_max\_length) | Maximum length for short names. | `number` | `24` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_base_name"></a> [base\_name](#output\_base\_name) | Base name including delimiter and environment |
| <a name="output_full_name"></a> [full\_name](#output\_full\_name) | Full name including delimiter and environment |
| <a name="output_short_name"></a> [short\_name](#output\_short\_name) | Short name with optional random string appended |

## Modules

No modules.

<!-- END_TF_DOCS -->